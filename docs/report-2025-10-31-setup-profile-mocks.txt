Yaddai â€“ Setup Profile (Mocks) â€” 2025-10-31

Resumen
- Flujo de Setup Profile implementado con mocks, habilitando subir foto, grabar/subir video, simular animaciÃ³n y redirigir a Post/Upload.
- No se conectaron APIs de AI aÃºn; todo funciona con estado temporal y blobs locales.

Rutas y pruebas manuales
- Abrir: `/profile/setup`.
  1) Step 1: subir/tomar foto, opcional â€œGPT miniâ€, â€œGo Banana ğŸŒâ€. BotÃ³n extra: â€œSkip AI, use my photoâ€.
  2) Step 2: grabar 5s con cÃ¡mara (3-2-1) o subir video; â€œRetryâ€ / â€œContinueâ€.
  3) Step 3: â€œGenerate Animation âš¡â€ (loader + banana animada) â†’ redirige a `/upload`.
- En `/upload` se precarga el video mock si vienes del setup; puedes â€œPostâ€ (usa la lÃ³gica actual).

Archivos aÃ±adidos
- app/context/profile-setup.tsx:1 â€” Contexto global del flujo (selfie, prompts, imÃ¡genes generadas, video, animaciÃ³n, flags).
- docs/profile-setup-flow.md:1 â€” Notas tÃ©cnicas y cÃ³mo colocar bocetos.

Archivos modificados
- components/providers.tsx:1 â€” Se aÃ±ade `ProfileSetupProvider`.
- app/(main)/profile/setup/page.tsx:1 â€” UI 3 pasos, botones mÃ¡gicos, grabaciÃ³n 5s, loader, navegaciÃ³n.
- app/(upload)/upload/page.tsx:1 â€” Autocarga del video desde `animationUrl` cuando `fromSetup` es true.

Detalles de implementaciÃ³n
- Step 1: al subir imagen se marca como `selectedImage` para habilitar â€œNextâ€. Hasta 3 intentos con â€œGo Banana ğŸŒâ€ (tinte en canvas).
- Step 2: MediaRecorder de 5s o upload local; vista previa y controles.
- Step 3: SimulaciÃ³n 4s con barra y banana `animate-spin`; guarda `animationUrl` y redirige a `/upload`.

Conocido/pendiente
- Build: error de prerender en `app/auth/callback/page.tsx` (falta Suspense alrededor de `useSearchParams`). No se tocÃ³ en este cambio.
- Limpiezas futuras: revocar `URL.createObjectURL`, botÃ³n â€œBackâ€ entre pasos, manejo de permisos cÃ¡mara.
- Integraciones Fase 2: GPT mini real, generador de imagen (Nano Banana/SD), animaciÃ³n (WanAnimate/Runway/Sora), storage definitivo.

Sugerencia de backup (manual)
- Git (si aplica):
  - `git add .`
  - `git commit -m "feat(setup-profile): mock flow + provider + upload preload"`
- Snapshot ZIP (Windows):
  - PowerShell: `Compress-Archive -Path * -DestinationPath backup-setup-profile-2025-10-31.zip`

